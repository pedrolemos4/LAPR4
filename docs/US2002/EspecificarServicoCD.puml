@startuml
'http://plantuml.com/skinparam.html
skinparam handwritten true
skinparam monochrome true
skinparam packageStyle rect
skinparam defaultFontName FG Virgil
skinparam shadowing false

class EspecificarServicoUI <<presentation>>
class EspecificarServicoController <<application>>
class PersistenceContext <<persistence>>
class RepositoryFactory <<factory>>
class CatalogoRepository <<repository>>
class FormularioRepository <<repository>>
class ServicoRepository <<repository>>


EspecificarServicoUI --> EspecificarServicoController
EspecificarServicoController : listCatalogo()
EspecificarServicoController : novoFormulario(nome,nomeVariavel,etiqueta,descricaoAjuda,tipoDados,expressaoRegular)

EspecificarServicoController : especificarServico(descricaoBreve,descricaoCompleta,icone,tÃ­tulo,codigoUnico,catalogo,form)

EspecificarServicoController --> CatalogoRepository
EspecificarServicoController --> ServicoRepository
EspecificarServicoController --> PersistenceContext
EspecificarServicoController --> FormularioRepository

PersistenceContext --> RepositoryFactory

RepositoryFactory --> FormularioRepository
RepositoryFactory --> CatalogoRepository
RepositoryFactory --> ServicoRepository

PersistenceContext : repositories()

FormularioRepository : create()
FormularioRepository : save(form)

ServicoRepository : create()
ServicoRepository : save(newServico)

CatalogoRepository : create()
CatalogoRepository : findAll()

@enduml